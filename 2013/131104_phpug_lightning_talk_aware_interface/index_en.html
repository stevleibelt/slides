<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml"><head><title>Lightningtalk AwareInterface</title><meta name="generator" content="Hovercraft! 1.0 http://regebro.github.com/hovercraft"></meta><link rel="stylesheet" href="css/hovercraft.css" media="all"></link><link rel="stylesheet" href="css/impressConsole.css" media="all"></link><link rel="stylesheet" href="css/highlight.css" media="all"></link><link rel="stylesheet" href="css/talk.css" media="all"></link></head><body class="impress-not-supported"><div id="impress" data-transition-duration="1500"><div class="step" step="0" data-x="0" data-y="0"><h1 id="lightningtalk-awareinterface">Lightningtalk AwareInterface</h1><p>12.11.2013
PHPUserGroup Hamburg</p></div><div class="step" step="1" data-y="1000" data-x="0"><h1 id="who-i-am">Who I Am</h1><ul><li><a href="http://stev.leibelt.de">Stev Leibelt</a></li><li>PHP developer</li><li>big fan of <a href="http://opensource.org/licenses">open source</a></li><li><dl><dt>loves words like:</dt><dd><ul><li>"Linux"</li><li>"[L]GPL"</li><li>"ZFS"</li><li>"Gang Of Four"</li><li>"<a href="http://theopensourceschool.blogspot.de/2010/01/free-as-in-freedom-not-as-in-free-beer.html">free as in freedom, not as in beer</a>."</li></ul></dd></dl></li><li>was born in the moste beautiful <a href="http://en.wikipedia.org/wiki/Saxony">free state</a> :-)</li><li>working for a company with one main product (and yes, old code exists ;-))</li></ul></div><div class="step" step="2" data-x="0" data-y="2000"><h1 id="what-is-this-talk-about">What Is This Talk About</h1><ul><li>write easy to read code</li><li>dependency injection (automatically and "by hand")</li><li>philosophy and interpretion of words ;-)</li><li>remind you that there is a world without "DIC" [5] out there</li></ul></div><div class="step" step="3" data-x="0" data-y="2500" data-scale="0.1"><h1 id="awareinterface-for-what">AwareInterface, For What?</h1><ul><li>dependency injection (also known as "interface injection" [0], [2])</li><li>declare dependencies via interfaces to easy up reading classes</li><li>declare interfaces to define the way of injecting "MyClass"</li><li>explains what the code expects [6]</li><li>names all the "moving parts"</li><li>easy up counting of dependencies via "grep -r 'MyClassAwareInterface' source/"</li></ul></div><div class="step" step="4" data-x="0" data-y="3000" data-rotate-z="90" data-scale="0.1"><h1 id="dependency-injection">Dependency Injection?</h1><p>But There Are Other Types Also! [1]</p></div><div class="step" step="5" data-x="0" data-y="3500" data-rotate-z="90" data-scale="0.1"><h1 id="constructor-injection">Constructor Injection</h1><ul><li>+ object is in a ready state</li><li>+ object declares complexity up front</li><li>+/- dependencies can not be swapped after instantiation</li><li>- can lead to cyclical dependencies</li><li>- dependencies are not polymorphic</li><li>- there is a parameter per dependency</li><li>- constructors are not part of the liskov substitutaion principle [4] (killer phrase!)</li></ul></div><div class="step" step="6" data-x="0" data-y="4000" data-rotate-z="90" data-scale="0.1"><h1 id="setter-injection">Setter Injection</h1><ul><li>+ one injection point per dependency</li><li>+/- its hard to distinguish between mandatory and optional dependencies</li><li>- consumer has to be very honest to inject all dependencies</li></ul></div><div class="step" step="7" data-x="0" data-y="4500" data-rotate-z="90" data-scale="0.1"><h1 id="interface-injection-a-special-setter-injection">Interface Injection (A Special Setter Injection)</h1><ul><li>+ increase readability of class structure</li><li>+ one defined injection point and way per dependency</li><li>+ interface injection could lead to a project based rule to distinguish between mandatory and optiona dependencies</li><li>+ easy way for implementing "DI" [3] in old code (by hard coding some "instanceof MyClassAwareInterface" checks [9])</li><li>- could lead to a lot of consumed interfaces</li><li>- consumer has to be very honest to inject all dependencies</li></ul></div><div class="step" step="8" data-x="-800" data-scale="1" data-y="4500" data-rotate-z="90"><h1 id="awareinterface-interface-injection">AwareInterface === Interface Injection?</h1><ul><li>no (at least not for me)</li><li>injection interface defines a method to inject a typ/object as dependency</li><li>aware interface should do a bit more</li></ul></div><div class="step" step="9" data-y="5500" data-x="-800" data-rotate-z="90" data-scale="1"><h1 id="my-ideal-world">My Ideal World</h1><ul><li>"Aware implies knowledge gained through one's own perceptions or by means of information" [8]</li><li><dl><dt>should contain two or three methods [7]:</dt><dd><ul><li>"setMyClass(MyClassInterface $myClass)"</li><li>"getMyClass()"</li><li>"hasMyClass()" (optional)</li></ul></dd></dl></li><li>if "hasMyClass()" is defined in the interface, the dependency should be optional</li><li>if dependency is mandatory, the name of the interface should be "InjectInterface" or "DependendInterface"</li></ul></div><div class="step" step="10" data-x="-800" data-y="6500" data-rotate-z="90" data-scale="1"><h1 id="optional-dependencies">Optional Dependencies?</h1><ul><li><dl><dt>for example, no logger injected leads to no logging but still working code</dt><dd><ul><li>speed and easy up unittests (as "DI" in general)</li></ul></dd></dl></li><li><dl><dt>create a new feature and try to test it (without big refactoring)</dt><dd><ul><li>easy up removing of impractical features</li></ul></dd></dl></li></ul></div><div class="step" step="11" data-x="-1600" data-scale="1" data-y="6500" data-rotate-z="-90"><h1 id="questions">Questions?</h1></div><div class="step" step="12" data-x="-2400" data-y="6500" data-rotate-z="-90" data-scale="1"><h1 id="your-opinion">Your Opinion?</h1><ul><li>are you using aware/injection interfaces (why/why not)?</li><li>how do you clear up optional and mandatory dependencies?</li></ul></div><div class="step" step="13" data-x="-3200" data-y="6500" data-rotate-z="270" data-scale="1"><h1 id="thanks">Thanks!</h1></div><div class="step" step="14" data-y="1000" data-x="-3200" data-rotate-z="270" data-scale="1"><h1 id="source">Source</h1><ol><li><a href="http://avalanche123.com/blog/2010/10/01/interface-injection-and-symfony2-dic/">Interface Injection And Symfony 2 DIC</a></li><li><a href="http://www.slideshare.net/ralphschindler/zend-di-in-zf-20">Zend DI In ZF 2</a></li><li><a href="http://martinfowler.com/articles/injection.html#InterfaceInjection">Interface Injection By Uncle Bob</a></li><li><a href="http://en.wikipedia.org/wiki/Dependency_Injection">Dependency Injection</a></li><li><a href="http://en.wikipedia.org/wiki/Liskov_substitution_principle">Liskov Substitution Principle</a></li><li><a href="http://api.symfony.com/2.0/Symfony/Component/DependencyInjection/ContainerAwareInterface.html">Symfony 2 And The Container Aware Interface</a></li><li><a href="http://stackoverflow.com/questions/6188466/what-is-aware-when-should-i-include-in-my-class-name">What Is Aware And When Should I Implement It</a></li><li><a href="http://artodeto.bazzline.net/archives/418-some-thoughts-about-AwareInterfaces-and-InjectorInterfaces.html">Thoughts About AwareInterface</a></li><li><a href="http://www.thefreedictionary.com/aware">The Free Dictonary</a></li><li><a href="https://github.com/php-loep/di/issues/3">PHP Loep</a></li></ol></div></div><div id="hovercraft-help"><table><tr><th>Space</th><td>Forward</td></tr><tr><th>Left, Down, Page Down</th><td>Next slide</td></tr><tr><th>Right, Up, Page Up</th><td>Previous slide</td></tr><tr><th>P</th><td>Open presenter console</td></tr><tr><th>H</th><td>Toggle this help</td></tr></table></div><script type="text/javascript" src="js/impress.js"></script><script type="text/javascript" src="js/impressConsole.js"></script><script type="text/javascript" src="js/hovercraft.js"></script></body></html>